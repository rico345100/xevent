!function(){function e(e){for(var t in e)return!1;return!0}function t(t,n){var i=r.get(t);0===i.handlers[n].length&&(delete i.handlers[n],document.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):document.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),e(i.handlers)&&(delete i.handlers,delete i.dispatcher),e(i)&&r.remove(t)}function n(e){function t(){return!0}function n(){return!1}if(!e||!e.stopPropagation){var r=e||window.event;e={};for(var i in r)e[i]=r[i];if(e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){e.returnValue=!1,e.isDefaultPrevented=t},e.isDefaultPrevented=n,e.stopPropagation=function(){e.cancelBubble=!0,e.isPropagationStopped=t},e.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=t,this.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var a=document.documentElement,o=document.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var r={data:{},uidCounter:0,identifier:"cache_"+(new Date).getTime(),get:function(e){var t=e[this.identifier];return t||(t=e[this.identifier]=this.uidCounter++,this.data[t]={}),this.data[t]},remove:function(e){var t=e[this.identifier];if(t){delete this.data[t];try{delete e[this.identifier]}catch(n){e.removeAttribute&&e.removeAttribute(this.identifier)}}}};window.xEvent={on:null,off:null,fire:function(e,t){var i=r.get(e),a=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=n(t),i.dispatcher&&i.dispatcher.call(e,t),a&&!t.stopPropagation())this.fire(a,t);else if(!a&&!t.isDefaultPrevented()){var o=r.get(t.target);t.target[t.type]&&(o.disabled=!0,t.target[t.type](),o.disabled=!0)}},extend:function(e){function t(e){e.event={on:function(t,n){xEvent.on(e,t,n)},off:function(t,n){xEvent.off(e,t,n)},fire:function(t,n){xEvent.fire(e,t,n)},trigger:function(t,n){xEvent.trigger(e,t,n)}}}if(e.length)for(var n=0,r=e.length;r>n;n++)t(e[n]);else t(e);return e}},xEvent.trigger=xEvent.fire,xEvent.on=function(e,t,i){var a=r.get(e);return a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),a.handlers[t].push(i),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t){if(!a.disabled){t=n(t);var r=a.handlers[t.type];if(r)for(var i=0,o=r.length;o>i;i++)r[i].call(e,t)}}),1===a.handlers[t].length&&(document.addEventListener?e.addEventListener(t,a.dispatcher,!1):e.attachEvent("on"+t,a.dispatcher)),this},xEvent.off=function(e,n,i){var a=r.get(e);if(a.handlers){var o=function(n){a.handlers[n]=[],t(e,n)};if(n){var d=a.handlers[n];if(d){if(!i)return void o(n);if(i.guid)for(var l=0,f=d.length;f>l;l++)d[l].guid===i.guid&&d.splice(l--,1);return t(e,n),this}}else for(var s in a.handlers)o(s)}}}();